# Kerb's Hyprland config 
# 
# It's BS that Hyprland will not create a man page
# for its configuration file.

### Variables
$mod = MOD4
$altmod = ALT
$left = h
$down = j
$up = k
$right = l
$terminal = foot
$menu = fuzzel
$browser = librewolf
$music-player = $terminal -T "rmpc - Music Player" -e rmpc
$session-lock = ~/.local/bin/lock
$screenshot = ~/.local/bin/take-screenshot

### Output Configuration
# monitor = name, resolution, position, scale
monitor = eDP-1, preferred, 0x0, 1
monitor = DP-4, preferred, 1920x0, 1
monitor = , preferred, auto, 1
execr-once = swaybg -o eDP-1 -m fit -i ~/.local/share/bg
execr-once = swaybg -o DP-4 -m fit -i ~/.local/share/bg1

### Input Configuration
env = XCURSOR_SIZE,24
env = HYPRCURSOR_SIZE,24

input {
    repeat_delay = 300
    repeat_rate = 45

    # Touchpad Sensitivity
    sensitivity = 0
    touchpad {
	natural_scroll = true
	scroll_factor = 0.4
	tap-to-click = true
    }
}

gestures {
    workspace_swipe = true
}

cursor {
    inactive_timeout = 3
}

# Devices
device {
    name = razer-razer-atheris---mobile-gaming-mouse
    sensitivity = -1.0
}

### Key Binds
# Window Management
bind = $mod, Q, killactive
bind = $mod, $left, movefocus, l
bind = $mod, $down, movefocus, d
bind = $mod, $up, movefocus, u
bind = $mod, $right, movefocus, r

# Shortcuts
bind = $mod, Return, exec, $terminal
bind = $mod, D, exec, $menu
bind = $mod, W, exec, $browser
bind = $mod, M, exec, $music-player
bind = $mod, Backspace, exec, ~/.local/bin/sysaction
bind = $mod Shift, L, exec, $session-lock

# MPD Shortcuts
bind = $mod, P, exec, mpc -q toggle
bind = $mod, bracketright, exec, mpc -q next
bind = $mod, bracketleft, exec, mpc -q prev

# Audio Mixer
windowrule = float, title:^(pulsemixer window)$
windowrule = center, title:^(pulsemixer window)$
windowrule = size 60% 50%, title:^(pulsemixer window)$
bind = $mod, O, exec, $terminal -T "pulsemixer window" -e pulsemixer >/dev/null 2>&1

# Multimedia keys for volume and screen brightness
bindel = ,XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindel = ,XF86AudioRaiseVolume, exec, wpctl set-volume -l 1.0 @DEFAULT_AUDIO_SINK@ 5%+
bindel = ,XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindel = ,XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
bindel = ,XF86MonBrightnessUp, exec, brightnessctl -q set +5%
bindel = ,XF86MonBrightnessDown, exec, brightnessctl -q --min-value=4800 set 5%-

# Switch Workspaces
bind = $mod, 1, workspace, 1
bind = $mod, 2, workspace, 2
bind = $mod, 3, workspace, 3
bind = $mod, 4, workspace, 4
bind = $mod, 5, workspace, 5
bind = $mod, 6, workspace, 6
bind = $mod, 7, workspace, 7
bind = $mod, 8, workspace, 8
bind = $mod, 9, workspace, 9
bind = $mod, 0, workspace, 10

# Cycle through worksapces
bind = $mod, Tab, workspace, e+1
bind = $mod $altmod, Tab, workspace, e-1

## Windows
bind = , F11, fullscreen

# Tiled Windows

# Move active window to a workspace
bind = $mod $altmod, 1, movetoworkspace, 1
bind = $mod $altmod, 2, movetoworkspace, 2
bind = $mod $altmod, 3, movetoworkspace, 3
bind = $mod $altmod, 4, movetoworkspace, 4
bind = $mod $altmod, 5, movetoworkspace, 5
bind = $mod $altmod, 6, movetoworkspace, 6
bind = $mod $altmod, 7, movetoworkspace, 7
bind = $mod $altmod, 8, movetoworkspace, 8
bind = $mod $altmod, 9, movetoworkspace, 9
bind = $mod $altmod, 0, movetoworkspace, 10

# Floating Windows
binds {
    drag_threshold = 10
}
bind = $mod Shift, Space, togglefloating
bindm = $mod, mouse:272, movewindow
bindm = $mod, mouse:273, resizewindow

### Look and Feel
general {
    border_size = 1
    no_border_on_floating = true
    gaps_in = 5
    gaps_out = 6
    layout = master
}

decoration {
    rounding = 0
    blur {
	enabled = false
    }
    shadow {
	enabled = false
    }
}

animations {
    enabled = false
}


# NVIDIA https://wiki.hypr.land/Nvidia/
env = LIBVA_DRIVER_NAME,nvidia
env = __GLX_VENDOR_LIBRARY_NAME,nvidia

# Misc
misc {
    disable_hyprland_logo = true
    disable_splash_rendering = true
    enable_swallow = true
    #lockdead_screen = 100
    #vrr = 1
}

### Startup [for testing]
execr-once = /usr/lib/polkit-kde-authentication-agent-1 >/dev/null 2>&1
execr-once = waybar -c ~/.config/waybar/hyprconf -s ~/.config/waybar/hyprstyle >/dev/null 2>&1
execr-once = mako >/dev/null 2>&1
execr-once = mpd >/dev/null 2>&1
execr-once = gammastep >/dev/null 2>&1
